## Постановка задачи

Определите, какое максимальное теоретическое и практическое количество потоков можно создать в x32 про-
цессе с виртуальным адресным пространством размером 4 Гб. Учтите, что потоки имеют собственные стеки. [20]

## Теоретическое ограничение

В 32-битной архитектуре:
- Виртуальное адресное пространство = **4 ГБ**
- По умолчанию стек одного потока занимает **1 МБ** при работе с Windows или **8 МБ** при работе с Linux (по умолчанию)

Предположим, что мы можем занять все адресное пространство под выполнение кода. Тогда, количество потоков равно
$\frac{4 \, \text{ГБ}}{1 \, \text{МБ}} = 2^{12} = 4096$ для Windows или $512$ для Linux

---

## 2. Практическое ограничение

В реальных ОС часть адресного пространства используется системой:

- **Windows:** часто доступно только 2 ГБ пользователю (ядро занимает 2 ГБ)
- **Linux:** часто доступно 3 ГБ пользователю

Размер стека может быть разным:
- **Linux (по умолчанию):** 8 МБ на поток
- **Windows (по умолчанию):** 1 МБ на поток
- Можно уменьшить стек до 64 КБ или меньше вручную

Будем считать, что мы не хотим уменьшать размер стека. Тогда, с учетом ограничений на размер адресного пространства, получим новое количество потоков: $2048$ для Windows, $384$ для Linux

---

## 3. Итоговая таблица

| Условие                                | Примерное число потоков |
|----------------------------------------|--------------------------|
| Теоретический максимум (1 МБ стек)     | $4000$                   |
| Практически (Windows, 1 МБ стек)       | $2000$                    |
| Практически (Linux, 8 МБ стек)         | $384$                   |
| Уменьшенный стек (64 КБ)               | $50000$                  |

---

## Примечание

На практике ограничения также зависят от:
- ОС и архитектуры ядра
- Дополнительных ограничений (`ulimit` на Linux, системные параметры в Windows)
- Памяти, занятой другими структурами программы
